{"ast":null,"code":"var _jsxFileName = \"/home/yaote/final/final/src/components/participants/Creator.js\";\nimport { Component } from \"react\";\nimport * as Backend from \"../../build/index.main.mjs\";\nimport { Context } from \"../../Context\";\nimport CreatorViews from \"./CreatorViews\";\nimport { loadStdlib } from '@reach-sh/stdlib';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Reach = loadStdlib('ALGO');\nexport class Creator extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      appState: \"\",\n      args: [],\n      resIsAuctionOn: null\n    };\n    this.isAuctionOnExt = this.isAuctionOnExt.bind(this);\n  }\n\n  componentDidMount() {\n    const [,,,,,, ctc,, ctcArgs,,] = this.context;\n    this.interval = setInterval(async () => await this.updateBalance(), 5000);\n    this.getId = ctcArgs[0].getId;\n    this.deadline = ctcArgs[0].deadline;\n    this.nftViewAddress = ctcArgs[0].nftViewAddress;\n    Backend.Creator(ctc[0], this);\n  }\n\n  async updateBalance() {\n    const [account,,, setBalance] = this.context;\n    const balance = Reach.formatCurrency(await Reach.balanceOf(account), 4);\n    setBalance(balance);\n  }\n\n  async informTimeout() {\n    this.setState({\n      appState: \"informTimeout\"\n    });\n  }\n\n  async showBid(getId, nftViewAddress, bid, address) {\n    const addressFormat = Reach.formatAddress(address);\n    const bidFormat = Reach.formatCurrency(bid, 4);\n    this.setState({\n      appState: \"showBid\",\n      args: [getId, nftViewAddress, bidFormat, addressFormat]\n    });\n  }\n\n  async isAuctionOn(getId, nftViewAddress) {\n    const response = await new Promise(res => {\n      this.setState({\n        appState: \"isAuctionOn\",\n        args: [getId, nftViewAddress],\n        resIsAuctionOn: res\n      });\n    });\n    return response;\n  }\n\n  isAuctionOnExt(res) {\n    this.state.resIsAuctionOn(res);\n  }\n\n  async seeOutcome(getId, nftViewAddress, address) {\n    const addressFormat = Reach.formatAddress(address);\n    this.setState({\n      appState: \"seeOutcome\",\n      args: [getId, nftViewAddress, addressFormat]\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(CreatorViews, {\n      appState: this.state.appState,\n      args: this.state.args,\n      isAuctionOnReady: this.state.resIsAuctionOn !== null,\n      isAuctionOn: this.isAuctionOnExt\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 16\n    }, this);\n  }\n\n}\nCreator.contextType = Context;","map":{"version":3,"sources":["/home/yaote/final/final/src/components/participants/Creator.js"],"names":["Component","Backend","Context","CreatorViews","loadStdlib","Reach","Creator","constructor","props","state","appState","args","resIsAuctionOn","isAuctionOnExt","bind","componentDidMount","ctc","ctcArgs","context","interval","setInterval","updateBalance","getId","deadline","nftViewAddress","account","setBalance","balance","formatCurrency","balanceOf","informTimeout","setState","showBid","bid","address","addressFormat","formatAddress","bidFormat","isAuctionOn","response","Promise","res","seeOutcome","render","contextType"],"mappings":";AAAA,SAAQA,SAAR,QAAwB,OAAxB;AACA,OAAO,KAAKC,OAAZ,MAAyB,4BAAzB;AACA,SAASC,OAAT,QAAwB,eAAxB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AACA,MAAMC,KAAK,GAAGD,UAAU,CAAC,MAAD,CAAxB;AAEA,OAAO,MAAME,OAAN,SAAsBN,SAAtB,CAAiC;AAGpCO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,IAAI,EAAE,EAFG;AAGTC,MAAAA,cAAc,EAAE;AAHP,KAAb;AAKA,SAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;AACH;;AACDC,EAAAA,iBAAiB,GAAG;AAChB,UAAK,QAAaC,GAAb,GAAoBC,OAApB,MAAkC,KAAKC,OAA5C;AACA,SAAKC,QAAL,GAAgBC,WAAW,CAAC,YAAY,MAAM,KAAKC,aAAL,EAAnB,EAAyC,IAAzC,CAA3B;AAEA,SAAKC,KAAL,GAAaL,OAAO,CAAC,CAAD,CAAP,CAAWK,KAAxB;AACA,SAAKC,QAAL,GAAgBN,OAAO,CAAC,CAAD,CAAP,CAAWM,QAA3B;AACA,SAAKC,cAAL,GAAsBP,OAAO,CAAC,CAAD,CAAP,CAAWO,cAAjC;AAEAvB,IAAAA,OAAO,CAACK,OAAR,CAAgBU,GAAG,CAAC,CAAD,CAAnB,EAAwB,IAAxB;AACH;;AAEkB,QAAbK,aAAa,GAAG;AAClB,UAAM,CAACI,OAAD,IAAcC,UAAd,IAA4B,KAAKR,OAAvC;AACA,UAAMS,OAAO,GAAGtB,KAAK,CAACuB,cAAN,CAAqB,MAAMvB,KAAK,CAACwB,SAAN,CAAgBJ,OAAhB,CAA3B,EAAqD,CAArD,CAAhB;AACAC,IAAAA,UAAU,CAACC,OAAD,CAAV;AACH;;AACkB,QAAbG,aAAa,GAAG;AAClB,SAAKC,QAAL,CAAc;AACVrB,MAAAA,QAAQ,EAAE;AADA,KAAd;AAGH;;AAEY,QAAPsB,OAAO,CAACV,KAAD,EAAQE,cAAR,EAAwBS,GAAxB,EAA6BC,OAA7B,EAAsC;AAC/C,UAAMC,aAAa,GAAG9B,KAAK,CAAC+B,aAAN,CAAoBF,OAApB,CAAtB;AACA,UAAMG,SAAS,GAAGhC,KAAK,CAACuB,cAAN,CAAqBK,GAArB,EAA0B,CAA1B,CAAlB;AACA,SAAKF,QAAL,CAAc;AACVrB,MAAAA,QAAQ,EAAE,SADA;AAEVC,MAAAA,IAAI,EAAE,CAACW,KAAD,EAAQE,cAAR,EAAwBa,SAAxB,EAAmCF,aAAnC;AAFI,KAAd;AAIH;;AAEgB,QAAXG,WAAW,CAAChB,KAAD,EAAQE,cAAR,EAAwB;AACrC,UAAMe,QAAQ,GAAG,MAAM,IAAIC,OAAJ,CAAaC,GAAG,IAAI;AACvC,WAAKV,QAAL,CAAc;AACVrB,QAAAA,QAAQ,EAAE,aADA;AAEVC,QAAAA,IAAI,EAAE,CAACW,KAAD,EAAQE,cAAR,CAFI;AAGVZ,QAAAA,cAAc,EAAE6B;AAHN,OAAd;AAKH,KANsB,CAAvB;AAOA,WAAOF,QAAP;AACH;;AAED1B,EAAAA,cAAc,CAAC4B,GAAD,EAAM;AAChB,SAAKhC,KAAL,CAAWG,cAAX,CAA0B6B,GAA1B;AACH;;AAEe,QAAVC,UAAU,CAACpB,KAAD,EAAQE,cAAR,EAAwBU,OAAxB,EAAiC;AAC7C,UAAMC,aAAa,GAAG9B,KAAK,CAAC+B,aAAN,CAAoBF,OAApB,CAAtB;AACA,SAAKH,QAAL,CAAc;AACVrB,MAAAA,QAAQ,EAAE,YADA;AAEVC,MAAAA,IAAI,EAAE,CAACW,KAAD,EAAQE,cAAR,EAAwBW,aAAxB;AAFI,KAAd;AAIH;;AACDQ,EAAAA,MAAM,GAAG;AACL,wBAAO,QAAC,YAAD;AACH,MAAA,QAAQ,EAAE,KAAKlC,KAAL,CAAWC,QADlB;AAEH,MAAA,IAAI,EAAE,KAAKD,KAAL,CAAWE,IAFd;AAGH,MAAA,gBAAgB,EAAE,KAAKF,KAAL,CAAWG,cAAX,KAA8B,IAH7C;AAIH,MAAA,WAAW,EAAE,KAAKC;AAJf;AAAA;AAAA;AAAA;AAAA,YAAP;AAMH;;AAxEmC;AAA3BP,O,CACFsC,W,GAAc1C,O","sourcesContent":["import {Component} from \"react\";\nimport * as Backend from \"../../build/index.main.mjs\";\nimport { Context } from \"../../Context\";\nimport CreatorViews from \"./CreatorViews\";\nimport {loadStdlib} from '@reach-sh/stdlib';\nconst Reach = loadStdlib('ALGO');\n\nexport class Creator extends Component  {\n    static contextType = Context;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            appState: \"\",\n            args: [],\n            resIsAuctionOn: null,\n        }\n        this.isAuctionOnExt = this.isAuctionOnExt.bind(this);\n    }\n    componentDidMount() {\n        const[, , , , , , ctc, , ctcArgs, ,] = this.context;\n        this.interval = setInterval(async () => await this.updateBalance(), 5000);        \n\n        this.getId = ctcArgs[0].getId;\n        this.deadline = ctcArgs[0].deadline;\n        this.nftViewAddress = ctcArgs[0].nftViewAddress;\n\n        Backend.Creator(ctc[0], this);\n    }\n\n    async updateBalance() {        \n        const [account, , , setBalance] = this.context;\n        const balance = Reach.formatCurrency(await Reach.balanceOf(account), 4);\n        setBalance(balance);\n    }\n    async informTimeout() {\n        this.setState({\n            appState: \"informTimeout\",\n        });\n    }\n\n    async showBid(getId, nftViewAddress, bid, address) {\n        const addressFormat = Reach.formatAddress(address);\n        const bidFormat = Reach.formatCurrency(bid, 4);        \n        this.setState({\n            appState: \"showBid\",\n            args: [getId ,nftViewAddress, bidFormat ,addressFormat],\n        })\n    }\n\n    async isAuctionOn(getId, nftViewAddress) {\n        const response = await new Promise (res => {\n            this.setState({\n                appState: \"isAuctionOn\",\n                args: [getId, nftViewAddress],\n                resIsAuctionOn: res,\n            })\n        });\n        return response;\n    }\n\n    isAuctionOnExt(res) {\n        this.state.resIsAuctionOn(res);\n    }\n\n    async seeOutcome(getId, nftViewAddress, address) {\n        const addressFormat = Reach.formatAddress(address);\n        this.setState({\n            appState: \"seeOutcome\",\n            args: [getId, nftViewAddress, addressFormat],\n        })\n    }\n    render() {\n        return <CreatorViews\n            appState={this.state.appState}\n            args={this.state.args}            \n            isAuctionOnReady={this.state.resIsAuctionOn !== null}\n            isAuctionOn={this.isAuctionOnExt}\n        />\n    }\n}\n"]},"metadata":{},"sourceType":"module"}